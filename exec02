const int TRIGGER_PIN = 4;
const int ECHO_PIN = 5;
const int inter_time = 1000;
const int ledVerde1 = 13;
const int ledVerde2 = 12;
const int ledAmarelo1 = 11;
const int ledAmarelo2 = 10;
const int ledVermelho1 = 9;
const int ledVermelho2 = 8;
const int buzzer = 3;

float distancia;

void setup() {
  pinMode(TRIGGER_PIN, OUTPUT);
  pinMode(ECHO_PIN, INPUT);
  pinMode(buzzer, OUTPUT);
  pinMode(ledVerde1, OUTPUT);
  pinMode(ledVerde2, OUTPUT);
  pinMode(ledAmarelo1, OUTPUT);
  pinMode(ledAmarelo2, OUTPUT);
  pinMode(ledVermelho1, OUTPUT);
  pinMode(ledVermelho2, OUTPUT);
  
  digitalWrite(ledVerde1, LOW);
  digitalWrite(ledVerde2, LOW);
  digitalWrite(ledAmarelo1, LOW);
  digitalWrite(ledAmarelo2, LOW);
  digitalWrite(ledVermelho1, LOW);
  digitalWrite(ledVermelho2, LOW);
  
  Serial.begin(9600);
}

void loop() {
  distancia = 0;
  
  digitalWrite(TRIGGER_PIN, LOW);
  delayMicroseconds(5);
  digitalWrite(TRIGGER_PIN, HIGH);
  delayMicroseconds(10);
  digitalWrite(TRIGGER_PIN, LOW);
  noTone(buzzer);
  
  distancia = pulseIn(ECHO_PIN, HIGH);
  distancia = distancia / 58;
  
  if(distancia > 200){
    digitalWrite(ledVerde1, HIGH);
    digitalWrite(ledVerde2, HIGH);
    digitalWrite(ledAmarelo1, LOW);
    digitalWrite(ledAmarelo2, LOW);
    digitalWrite(ledVermelho1, LOW);
    digitalWrite(ledVermelho2, LOW);
    
    tone(buzzer, 250);
  }else if(distancia > 80 && distancia < 200){
	digitalWrite(ledVerde1, LOW);
  	digitalWrite(ledVerde2, LOW);
  	digitalWrite(ledAmarelo1, HIGH);
  	digitalWrite(ledAmarelo2, HIGH);
  	digitalWrite(ledVermelho1, LOW);
  	digitalWrite(ledVermelho2, LOW);
    
    tone(buzzer, 500);
  }else if(distancia < 80){
  	digitalWrite(ledVerde1, LOW);
  	digitalWrite(ledVerde2, LOW);
  	digitalWrite(ledAmarelo1, LOW);
  	digitalWrite(ledAmarelo2, LOW);
  	digitalWrite(ledVermelho1, HIGH);
  	digitalWrite(ledVermelho2, HIGH);
    
    tone(buzzer, 1000);
  }
  
  Serial.println("Distancia: ");
  Serial.println(distancia);
  Serial.println("-------------");
  
  delay(100);
}

